<html>
<body>
<div class="simon">
<ul>
<li class="red" data-tile="1"></li>
<li class="blue" data-tile="2"></li>
<li class="yellow" data-tile="3"></li>
<li class="green" data-tile="4"></li>
</ul>
</div>
 
 
function newRound() {
var sequence = [1,2,1]; //red, green, red
animate(sequence);
}
 
function animate(sequence) {
var i = 0;
var interval = setInterval(function() {
lightUp(sequence[i]);
 
        i++;
        if (i >= sequence.length) {
clearInterval(interval);
        }
   }, 600);
}
 function lightup(tile) {
var $tile = $('[data-tile=' + tile + ']').addClass('lit');
window.setTimeout(function() {
$tile.removeClass('lit');
}, 300);
 
}
function playSound(tile) {
var audio = $('<audio autoplay></audio>');
audio.append('<source src="sounds/' + tile + '.ogg" type="audio/ogg" />');
audio.append('<source src="sounds/' + tile + '.mp3" type="audio/mp3" />');
$('[data-action=sound]').html(audio);
}

</body>
</html>
